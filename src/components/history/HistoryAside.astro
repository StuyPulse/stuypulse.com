---
import { CollectionEntry, getCollection } from 'astro:content';

const history = await getCollection('history');
const sortedHistory:CollectionEntry<'history'>[] = [];
history.map((entry) => sortedHistory.unshift(entry));
export interface Props {
  activeYear?: string;
}

const year = Astro.props;
---

{
  sortedHistory.map((entry) => (
    <div class="row no-gutters align-items-center">
      <a href={"/about/history/"+entry.slug} class={"pl-5 pb-1 pt-1 align-items-center "+ (!entry.slug.localeCompare(year.activeYear)&&"current") }>
        <p class={(entry.slug.localeCompare(year.activeYear)?"year":"current") + " mb-0"} >{entry.slug}</p>
      </a>
    </div>
    
  ))
}

<style>
  p {
    margin-bottom: 0.25rem;
  }
  
  .row:hover {
    background-color: rgb(235, 235, 238);
  }
  .row:active {
    background-color: rgb(224, 221, 221);
  }
  .current {
    background-color: rgb(224, 0, 0) !important;
    color: rgb(235, 235, 238) !important;
  }
</style>
