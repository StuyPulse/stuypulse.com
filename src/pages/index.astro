---
import { getCollection } from "astro:content";
import PageSite from "@layouts/PageSite.astro";
import Carousel from "@components/carousels/ImageCarousel.astro";
import SponsorCarousel from "@components/carousels/SponsorCarousel.astro";
import getSortedPosts from "@utils/getSortedPosts";
import { Picture } from "astro-imagetools/components";
import ImageContainer from "@components/ImageContainer.astro";
import NewsMiniPreview from "@components/news/NewsMiniPreview.astro";
const POSTS_ON_FRONT_PAGE = 5;
const newsEntries = await getCollection("news");
const sortedNews = getSortedPosts(newsEntries);
const frontPosts = sortedNews.slice(0, POSTS_ON_FRONT_PAGE);
---

<style>
  .inline-icon {
    height: 1em;
    width: 1em;
    transform: translateY(-0.1em);
    padding-right: 0.25rem;
  }
  .youtube-video {
    aspect-ratio: 16 / 9;
    width: 100%;
  }

  .row {
    justify-content: center;
    align-items: center;
  }
  .col,
  .col-lg-7,
  .col-lg-5 {
    margin-bottom: 3rem;
  }

  p {
    margin-bottom: 0.25rem;
  }

  .large-name {
    font-size: 4rem;
    font-weight: bold;
    color: red;
    line-height: 1;
    margin-bottom: 5px;
  }
  .intro-text {
    font-size: 1.3rem;
    margin-bottom: 0;
    display: inline-block;
  }
  button {
    background-color: red;
    color: white;
    border-radius: 51px;
    border-style: none;
    padding: 10px 20px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
    margin-top: 0.5rem;
  }

  button:hover {
    background-color: #e00;
  }
  .robotimg {
    width: 20rem;
    display: flex;
  }
  /* iframe {
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19);
  } */
</style>

<PageSite title={"Home"} description={"Team 694 is an award-winning FIRST robotics team from New York City. Find out about our team, its history, and view pictures and videos."}>
  <div class="row">
    <div class="col">
      <div class="large-name">
        <img src="/icons/694-logo.svg" alt="694 Logo" class="inline-icon" />
        StuyPulse
      </div>
      <div class="intro-text mb-2" style="border-bottom: 3px solid #e00">
        FIRST Robotics Competition Team 694&nbsp;
      </div>
      <br />
      <p>
        We are StuyPulse, <a href="http://stuy.enschool.org/"
          >Stuyvesant High School's</a
        >
        award-winning FIRST Robotics team. We seek to impact young adults by cultivating
        skills in engineering, programming, and business through FIRST.
      </p>
      <a href="/about"><button type="button"> Learn More &gt;&gt;</button></a>
    </div>
    <div class="col-lg-7">
      <Carousel />
    </div>
  </div>
  <div class="row">
    <div
      class="col-lg-5 order-1 order-lg-0"
      style="display: flex; align-items: center; justify-content: center;"
    >
      <div
        class="robotimg"
        style="box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
      >
        <ImageContainer
          img="https://stuypulse.nyc3.digitaloceanspaces.com/site/img/2023-Jim.jpg"
          alt="Jim, our 2023 robot"
        />
      </div>
    </div>
    <div class="col order-0 order-lg-1">
      <div class="large-name">Jim</div>
      <div class="intro-text mb-2" style="border-bottom: 3px solid #e00">
        Our 2023 Robot for Charged Up&nbsp;
      </div>
      <br />
      <p> Jim is our current bot for the 2023 FRC season, Charged Up. Notable for its simplistic yet highly effective design, Jim has powered us to wins at NYC and Long Island #2 regionals, as well as Milstein division quarterfinalists at the World Championship in Houston.</p>
      <a href="/about/history"
        ><button type="button"> Past Competition Robots &gt;&gt;</button></a
      >
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6 flex-wrap" >
      <div class="mb-2">
        <div class="large-name" >
          <a href="/sponsors/">
            <img
              class="front-page-thumb inline-icon"
              src="/icons/red-diamond.svg"
              alt="Gem"
            />
          </a>
          Sponsors
        </div>
        <div
          class="intro-text" style = "border-bottom: 3px solid #e00;"
        >
          Our sponsors:&nbsp;
        </div>
      </div>
      
      <p>
        Our robots could not have been built, had it not been for the generosity
        of our sponsors. Want to sponsor our award-winning team?
      </p>
      <a href="/sponsors#info"
        ><button type="button"> Sponsor Us &gt;&gt;</button></a
      >
    </div>

    <div class="col offset">
      <SponsorCarousel images="sponsors" />
    </div>
  </div>
  <div class="row mt-3">
    <div class="mb-3 justify-content-start text-start">
      <div class="large-name">
        <img
          class="front-page-thumb inline-icon"
          src="/icons/clock.svg"
          alt="Clock"
        />
        Latest News
      </div>
      <div
        class="intro-text" style = "border-bottom: 3px solid #e00;"
      >
        Keep up with the team!&nbsp;
      </div>
    </div>

    <div class="col-lg-5 col-md-12">
      <h2>Recent News</h2>

      <NewsMiniPreview entries={frontPosts} />

      <strong><a href="/news">See older news &gt;&gt;</a></strong>
    </div>
    <div class="col-md-12 col-lg-7">
      <h2>Latest YouTube Video</h2>
      <p class="text-muted">
        Check out our other videos <a href="https://www.youtube.com/@StuyPulse"
          >here</a
        >!
      </p>
      <iframe
        class="youtube-video"
        style="height:23em;"
        src="https://www.youtube-nocookie.com/embed?listType=playlist&list=UUDJr7RUmFfHAXjDg7jaCP5g"
        title="YouTube video player"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </div>
  </div>
</PageSite>
